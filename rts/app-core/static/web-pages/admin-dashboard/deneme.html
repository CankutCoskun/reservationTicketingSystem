<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v3.8.6">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <title>Admin Dashboard</title>

    <link rel="apple-touch-icon" href="/docs/4.4/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="manifest" href="/docs/4.4/assets/img/favicons/manifest.json">
    <link rel="mask-icon" href="/docs/4.4/assets/img/favicons/safari-pinned-tab.svg" color="#563d7c">
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon.ico">
    <meta name="msapplication-config" content="/docs/4.4/assets/img/favicons/browserconfig.xml">
    <meta name="theme-color" content="#563d7c">

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>

    <style>
        .hidden {
            display: none;
        }

        .result {
            max-width: 80px;
        }
    </style>
    <!-- Custom styles for this template -->
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
        <a class="navbar-brand" href="#">Top navbar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
            aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Sign Out</a>
                </li>
            </ul>
            <form class="form-inline mt-2 mt-md-0">
                <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row">
            <nav class="col-md-2 d-none d-md-block bg-light sidebar">
                <div class="sidebar-sticky">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="index.html">
                                <span data-feather="home"></span>
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <span data-feather="file"></span>
                                Edit Events <span class="sr-only">(current)</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="acitvetickets.html">
                                <span data-feather="file"></span>
                                Active Tickets
                            </a>
                        </li>

                    </ul>
                    <ul class="nav flex-column mb-2">
                    </ul>
                </div>
            </nav>
            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">Edit Events</h1>
                </div>

                <!-- Button trigger modal -->
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addModal">
                    Add Event
                </button>

                <!-- Modal -->
                <div class="modal fade" id="addModal" data-backdrop="static" tabindex="-1" role="dialog"
                    aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="staticBackdropLabel">Add Event</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form id=table>
                                    <div class="form-group">
                                        <label for="ID">Event ID</label>
                                        <input type="text" class="form-control" id="eventid" placeholder="Event ID">
                                    </div>
                                    <div class="form-group">
                                        <label for="Name">Event Name</label>
                                        <input type="text" class="form-control" id="eventname" placeholder="Event Name">
                                    </div>
                                    <div class="form-group">
                                        <label for="Venue">Event Venue</label>
                                        <input type="text" class="form-control" id="eventvenue"
                                            placeholder="Event Venue">
                                    </div>
                                    <div class="form-group">
                                        <label for="Date">Event Date</label>
                                        <input type="text" class="form-control" id="eventdate" placeholder="Event Date">
                                    </div>
                                    <div class="form-group">
                                        <label for="Time">Event Time</label>
                                        <input type="text" class="form-control" id="eventtime" placeholder="Event Time">
                                    </div>
                                    <div class="form-group">
                                        <label for="Capacity">Event Capacity</label>
                                        <input type="text" class="form-control" id="eventcapacity"
                                            placeholder="Event Capacity">
                                    </div>
                                    <div class="form-group">
                                        <h4 class="modal-title" id="staticBackdropLabel">Upload Image</h5>
                                            <input type="file" class="form-control-file" id="exampleFormControlFile1">
                                    </div>
                                </form>
                            </div>







                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary" id="create-test" data-dismiss="modal">Add
                                    New Event</button>
                            </div>

                        </div>
                    </div>
                </div>



                <!-- Modal for Edit Event-->
                <div class="modal fade1" id="editEv" data-backdrop="static" tabindex="-1" role="dialog"
                    aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="staticBackdropLabel">Edit Event</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form id=edittable>
                                    <div class="form-group">
                                        <label for="ID">Event ID</label>
                                        <input type="text" class="form-control" id="eventid2" val=""
                                            placeholder="Event ID">
                                    </div>
                                    <div class="form-group">
                                        <label for="Name">Event Name</label>
                                        <input type="text" class="form-control" id="eventname2" val=""
                                            placeholder="Event Name">
                                    </div>
                                    <div class="form-group">
                                        <label for="Venue">Event Venue</label>
                                        <input type="text" class="form-control" val="" id="eventvenue2"
                                            placeholder="Event Venue">
                                    </div>
                                    <div class="form-group">
                                        <label for="Date">Event Date</label>
                                        <input type="text" class="form-control" id="eventdate2" val=""
                                            placeholder="Event Date">
                                    </div>
                                    <div class="form-group">
                                        <label for="Time">Event Time</label>
                                        <input type="text" class="form-control" id="eventtime2" val=""
                                            placeholder="Event Time">
                                    </div>
                                    <div class="form-group">
                                        <label for="Capacity">Event Capacity</label>
                                        <input type="text" class="form-control" val="" id="eventcapacity2"
                                            placeholder="Event Capacity">
                                    </div>
                                    <div class="form-group">
                                        <h4 class="modal-title" id="staticBackdropLabel">Upload Image</h5>
                                            <input type="file" class="form-control-file" id="exampleFormControlFile1">
                                    </div>
                                </form>
                            </div>







                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary" id="saveEvent"
                                    data-dismiss="modal">Save</button>
                            </div>

                        </div>
                    </div>
                </div>


                <table id=t1 class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Event Name</th>
                            <th scope="col">Event Venue</th>
                            <th scope="col">Event Date</th>
                            <th scope="col">Event Time</th>
                            <th scope="col">Event Capacity</th>
                        </tr>
                    </thead>
                    <tbody id="edit-events">

                    </tbody>
                </table>

        </div>

        </main>
    </div>


    </div>

    <!-- Optional JavaScript -->
    <script>


        $(document).ready(function () {

            $('#create-test').click(function () {
                var eventid = $("#eventid").val();
                var eventnanme = $("#eventname").val();
                var eventvenue = $("#eventvenue").val();
                var eventdate = $("#eventdate").val();
                var eventtime = $("#eventtime").val();
                var eventcapacity = $("#eventcapacity").val();
                var newEvent = { 'id': eventid, 'eventname': eventnanme, 'place': eventvenue, 'date': eventdate, 'time': eventtime, 'capacity': eventcapacity }
                var row =
                    ` <tr class="event-row-${newEvent.id}"> 
	    			        <td id="resultid-${newEvent.id}" val="" data-eventid="${newEvent.id}"">${newEvent.id}</td>
	                        <td id="resultname-${newEvent.id}" ddata-eventid="${newEvent.id}""> ${newEvent.eventname}</td>
                            <td id="resultplace-${newEvent.id}" data-eventid="${newEvent.id}"">${newEvent.place}</td>
                            <td id="resultdate-${newEvent.id}" data-eventid="${newEvent.id}"">${newEvent.date}</td>
                            <td id="resulttime-${newEvent.id}" data-eventid="${newEvent.id}"">${newEvent.time}</td>
                            <td id="resultcapacity-${newEvent.id}" data-eventid="${newEvent.id}"">${newEvent.capacity}</td>
	                    <td>
	                   		<button class="btn btn-sm btn-danger" data-eventid="${newEvent.id}" id="editBtn-${newEvent.id}" data-toggle="modal" data-target="#editEv"">Edit</button>
	                   		<button class="btn btn-sm btn-info "  data-eventid="${newEvent.id}" id="DelBtn-${newEvent.id}"">Delete</button>
	                   		<button class="btn btn-sm btn-danger hidden"  data-eventid="${newEvent.id}" id="CancelBtn-${newEvent.id}"">Cancel</button>
	                   		<button class="btn btn-sm btn-primary hidden"  data-eventid="${newEvent.id}" id="ConfirmBtn-${newEvent.id}">Confirm</button>
	                   </td>
	    		   </tr>`



                tableBody = $("table tbody");
                tableBody.append(row);

                //edit modal will show up
                $(`#editBtn-${newEvent.id}`).click(function () {
                    var myModal = $('#editEv');
                    var curr = $(this).closest('tr');
                    var a = curr.find('td:eq(0)').text();
                    console.log(a)
                    $("#eventid2", myModal).val(a);
                    $().modal("show");
                    //Save the Update 

                });

                $("#saveEvent").click(function () {
                    var a = 10;
                    console.log(a)
                    var eventid2 = $("#eventid2").val();
                    var eventnanme2 = $("#eventname2").val();
                    var eventvenue2 = $("#eventvenue2").val();
                    var eventdate2 = $("#eventdate2").val();
                    var eventtime2 = $("#eventtime2").val();
                    var eventcapacity2 = $("#eventcapacity2").val();
                    console.log(eventid2);
                    //var x = document.getElementById("t1").rows[1].cells;
                    //x[0].innerHTML = "NEW CONTENT";
                    var curr = $(`.event-row-${newEvent.id}`).closest('tr');

                    var a = curr.find('td:eq(0)').text(eventid2);
                    console.log(newEvent.id);
                    



                });







                //when clicked edit-delete button swap with cancel-confirm
                $(`#DelBtn-${newEvent.id}`).click(function () {
                    var eventid = $(this).data('eventid')

                    var deleteBtn = $(`#DelBtn-${eventid}`)
                    var ConfirmBtn = $(`#ConfirmBtn-${eventid}`)
                    var cancelBtn = $(`#CancelBtn-${eventid}`)
                    var EditBtn = $(`#editBtn-${eventid}`)

                    EditBtn.addClass('hidden')
                    deleteBtn.addClass('hidden')


                    cancelBtn.removeClass('hidden')
                    ConfirmBtn.removeClass('hidden')
                });

                //when clicked cancel-confirmed button swap with edit-delete
                $(`#CancelBtn-${newEvent.id}`).click(function () {
                    var eventid = $(this).data('eventid')

                    var deleteBtn = $(`#DelBtn-${eventid}`)
                    var ConfirmBtn = $(`#ConfirmBtn-${eventid}`)
                    var cancelBtn = $(`#CancelBtn-${eventid}`)
                    var EditBtn = $(`#editBtn-${eventid}`)

                    cancelBtn.addClass('hidden')
                    ConfirmBtn.addClass('hidden')


                    EditBtn.removeClass('hidden')
                    deleteBtn.removeClass('hidden')
                });

                //delete the entire row
                $(`#ConfirmBtn-${newEvent.id}`).click(function () {
                    var eventid = $(this).data('eventid')
                    var row = $(`.event-row-${eventid}`)
                    row.remove()
                });


            });



        });


    </script>


    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
</body>

</html>