<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="rts">
	<meta name="author" content="cankutcoskun@sabanciuniv.edu">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="/bootstrap-resources/stylesheets/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link rel="stylesheet" href="/web-pages/home-page/home.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<link href='web-pages/fullcalendar/core/main.css' rel='stylesheet' />
	<link href='web-pages/fullcalendar/daygrid/main.css' rel='stylesheet' />
	<link href='web-pages/fullcalendar/timegrid/main.css' rel='stylesheet' />
	<link href='web-pages/fullcalendar/list/main.css' rel='stylesheet' />
	<link href='web-pages/fullcalendar/bootstrap/main.css' rel='stylesheet' />
	
	<!--Start-->
	<script>
		$('.carousel').carousel();
	</script>



	<!-- CHECK JQUERY 
	<script type="text/javascript">
	window.onload = function()
	{
		if (window.jQuery)
		{
			alert('jQuery is loaded');
		}
		else
		{
			alert('jQuery is not loaded');
		}
	}
-->
	</script>

	<title>RTS </title>
</head>

<body>
	<header>
		<nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark shadow-sm"
			style="margin-bottom: 0; color: white;">

			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02"
				aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarColor02">
				<img style="margin-right: 10px;" src="/image-assets/ticket.png" width="60" height="60"
					class="d-inline-block align-top" alt="">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<h3 style="color: white;">RTS</h3>
					</li>
				</ul>

				<ul class="nav navbar-nav navbar-right ml-auto" style="text-align: center;">
					<li class="nav-item">
						<a href="#" data-toggle="dropdown"
							class="btn btn-dark dropdown-toggle get-started-btn mt-1 mb-1"
							style="border-color: white; color: white;"> <i class="fa fa-sign-in" aria-hidden="true"></i>
							Login</a>
						<ul class="dropdown-menu form-wrapper">
							<li>
								<form action='/auth' method='POST' id='loginform'>


									<div class="form-group">
										<input type="text" id="loginusername" name="username" class="form-control" placeholder="Username"
											required="required">
									</div>
									<div class="form-group">
										<input type="password"  id="loginpassword" name="password" class="form-control"
											placeholder="Password" required="required">
									</div>
									<input type="" id="loginbutton" class="btn btn-dark btn-block"  value="Login">
									<div class="form-footer">
										<a href="#">Forgot Your password?</a>
									</div>
								</form>
							</li>
						</ul>
					</li>
					<li class="nav-item" style="margin-left: 20px;">
						<a href="#" data-toggle="dropdown"
							class="btn btn-dark dropdown-toggle get-started-btn mt-1 mb-1"
							style="border-color: white; color: white;">Sign up</a>
						<ul class="dropdown-menu form-wrapper">
							<li>
								<form action='createUser' method='POST'>
									<p class="hint-text">Fill in this form to create your account!</p>
									<div class="form-group">

										<input type="text" class="form-control" name="name" placeholder="Name" required>
									</div>
									<div class="form-group">
										<input type="text" class="form-control" name="surname" placeholder="Surname"
											required>
									</div>
									<div class="form-group">
										<input type="text" class="form-control" name="email"
											placeholder="name@example.com" required>
									</div>
									<div class="form-group">
										<input type="text" class="form-control" name="uname" placeholder="username"
											required>
									</div>
									<div class="form-group">
										<input type="password" class="form-control" name="password"
											placeholder="********" required>
									</div>
									<input type="submit" class="btn btn-dark btn-block" value="Sign up">
								</form>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</nav>
		<div style="background-color: #343a4077;">
			<ul class="nav justify-content-center" style="padding: 20px; margin-top: 75px;">
				<li class="nav-item">
					<form class="" action="/events/search" method="POST">
						<div class="row">
							<div class="col">
								<img src="/image-assets/theater-masks-solid.svg" height="36px" width="36px"
									style="margin-bottom: 5px;">
								<label for="type" style="font-size: large;">Kind</label>
								<select class="form-control" id="type" name="type" required>
									<option>CONCERT</option>
									<option>THEATRE</option>
									<option>DANCE</option>
									<option>STANDUP</option>
									<option>MUSICAL</option>
									<option>OPERA</option>
									<option>BALLET</option>
								</select>
							</div>
							<div class="col">
								<i class="fa fa-fw fa-calendar" style="font-size: 30px;"></i>
								<label for="date" style="font-size: large;"> Date:</label>
								<input class="datepicker" id="date" name="date" required style="width: 150px">
							</div>
							<div class="col">
								<i class="fa fa-map-marker" aria-hidden="true" style="font-size: 30px;"></i>
								<label for="location" style="font-size: large;">Location</label>
								<select class="form-control" id="location" name="location" required>
									<option>ANTALYA</option>
									<option>ANKARA</option>
									<option>ISTANBUL</option>
									<option>IZMIR</option>
									<option>BURSA</option>
								</select>
							</div>
							<div class="col">
								<input type="text" class="form-control" placeholder="Search" id="text" name="text"
									style="margin-top: 42px; width: 210px;">
							</div>
							<div class="col">
								<div class="input-group-btn">
									<button class="btn-dark" type="submit" style="margin-top: 42px; width: 150px;">
										<i class="fa fa-search" aria-hidden="true" style="font-size: 20px;"></i> Find
									</button>
								</div>
							</div>
						</div>
					</form>
				</li>
			</ul>
		</div>
	</header>
	<main role="main">
		<div class="container" style="background-color: whitesmoke;">
			<div class="row">
				<div class="col-md-6" id="featured-events" style="background-color: #343a40">
					<div style="margin-top: 60px;">
						<h1 style="color:white ; text-align: center;">FEATURED EVENTS</h1>
						<br>
						<div id="myCarousel" class="carousel slide" data-ride="carousel">
							<ol class="carousel-indicators">
								<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
								<li data-target="#myCarousel" data-slide-to="1" class=""></li>
								<li data-target="#myCarousel" data-slide-to="2" class=""></li>
								<li data-target="#myCarousel" data-slide-to="3" class=""></li>
								<li data-target="#myCarousel" data-slide-to="4" class=""></li>
								<li data-target="#myCarousel" data-slide-to="5" class=""></li>
							</ol>

							<!--CAROUSEL CODE -->

						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div id="calendar"></div>
				</div>
			</div>
			<div style="padding-top: 35px;">
				<h2 style="text-align: center; color: #343a40;">EVENTS</h2>
				<br>
				<div class="row" id="events"></div>
			</div>
		</div>
		<br>
		<br>
		<br>

	</main>

	<!-- jQuery first, then Popper.js, then Bootstrap JS 	
		<script src="/bootstrap-resources/js/jquery.min.js"></script>
 -->
	<!--Relative local paths-->
	<script src="/bootstrap-resources/js/jquery.min.js"></script>
	<script src="/bootstrap-resources/js/popper.min.js"></script>

	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script src="/bootstrap-resources/js/bootstrap.min.js"></script>
	<script src="/web-pages/event-pages/resources/scripts/holder.min.js"></script>
	
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
	<script src="/web-pages/home-page/home.js"></script>
	<script src='web-pages/fullcalendar/core/main.js'></script>
	<script src='web-pages/fullcalendar/daygrid/main.js'></script>
	<script src='web-pages/fullcalendar/timegrid/main.js'></script>
	<script src='web-pages/fullcalendar/list/main.js'></script>
	<script src='web-pages/fullcalendar/bootstrap/main.js'></script>
	
	<script>
		var calendarEl = document.getElementById('calendar');
		var calendar = new FullCalendar.Calendar(calendarEl, {
			plugins: ['dayGrid', 'timeGrid', 'list', 'bootstrap'],
			themesystem: 'bootstrap',
			height: 500,
			eventLimit: true,
			displayEventTime: false,
			
			eventRender: function(info) {
				$(info.el).tooltip({ 
    			title: 'In: ' + info.event.extendedProps.city ,
				placement: "top",
				trigger: "hover",
				container: "body"
				});
			},
			eventSources: [
				{
					url: '/api/calendarevents',
					type: 'GET',
					error: function () {
						alert('there was an error while fetching events!');
					},
					color: 'green',   // a non-ajax option
					textColor: 'black' // a non-ajax option
					

				}]
		});

		calendar.render();
		
	</script>
	<!--		
		$("#datepicker").datepicker({
			format: 'dd/mm/yyyy'
		});
	-->

	
	<script>
		$('.datepicker').datepicker();
	</script>
	<script>
		$('.carousel').carousel();
				
	
		console.log('doc is ready');
		
		$('#loginbutton').click(function (){
		event.preventDefault();
		console.log('hadi: '+ $('#loginusername').val()  );

        var data = {
        }; 

		data.username = $('#loginusername').val();
		data.password = $('#loginpassword').val();
		$.ajax({
		  type: 'POST',
		  data: JSON.stringify(data),
		  cache: false,
		  contentType: 'application/json; charset=utf-8' ,
		  datatype: "json",
		  url: '/auth',
		  success: function() {
                   $('#loginform').submit();
              },
		  error: function(xhr, status, error){
			alert("Error: incorrect password-username");
     }
		   
		}); } )  
		
	</script>

</body>

</html>